<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì„¼ì„œ ëŒ€ì‹œë³´ë“œ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        /* ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì„¤ì • */
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
        }

        /* ë„¤ë¹„ê²Œì´ì…˜ ë°” ìŠ¤íƒ€ì¼ */
        .navbar {
            height: 8vh;
            background-color: #007bff;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .navbar-brand {
            font-weight: bold;
            font-size: 1.3rem;
        }

        .navbar-nav .nav-link {
            font-size: 1.1rem;
            margin-right: 15px;
        }

        .navbar-nav .nav-link.active {
            color: #fff;
            font-weight: bold;
        }

        /* ì„¼ì„œê°’ ë° ì ì •ê°’ ë°•ìŠ¤ë¥¼ ê·¸ë¦¬ë“œë¡œ ë°°ì¹˜ */
        .sensor-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* ë‘ ê°œì˜ ì—´ë¡œ ë°°ì¹˜ */
            gap: 10px; /* ì•„ì´í…œ ì‚¬ì´ì˜ ê°„ê²© */
            height: calc(89vh); /* ë„¤ë¹„ë°” ë†’ì´ ì œì™¸ */
            padding: 10px;
        }

        .sensor-box {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            font-size: 2rem;
            font-weight: bold;
            color: #333;
            padding: 20px;
        }

        /* í° ë°•ìŠ¤ */
        .big-box {
            height: calc(83.6vh / 3); /* í° ë°•ìŠ¤ 3ê°œ */
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            margin: 10px;
            font-size: 1.5rem;
            font-weight: bold;
            color: #333;
            position: relative;
        }

        /* ë“œë¡­ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
        .form-select {
            border-radius: 10px;
            border: 1px solid #007bff;
        }

        .text-left-top {
            position: absolute; /* ì ˆëŒ€ ìœ„ì¹˜ ì§€ì • */
            top: 20px; /* ìœ„ìª½ ì—¬ë°± ì¡°ì • */
            left: 20px; /* ì™¼ìª½ ì—¬ë°± ì¡°ì • */
            text-align: left;
            font-size: 1.5rem; /* í¬ê¸°ë¥¼ ì¡°ê¸ˆ ì¤„ì¼ ìˆ˜ë„ ìˆìŒ */
        }

        .toggle-btn {
            width: 80px;
            height: 40px;
            font-size: 1rem;
            font-weight: bold;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            color: white;
            background-color: green; /* ê¸°ë³¸ ìƒ‰ìƒ */
            transition: background-color 0.3s;
        }
        
        .toggle-btn.on {
            background-color: green; /* ON ìƒíƒœì¼ ë•Œ */
        }
        
        .toggle-btn.off {
            background-color: red; /* OFF ìƒíƒœì¼ ë•Œ */
        }

        .toggle-btn.auto {
            background-color: yellow;
        }

        .toggle-btn.manual {
            background-color: blue;
        }

    </style>
</head>
<body>
<!-- ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
<nav class="navbar navbar-expand-lg navbar-light text-white mb-3">
    <div class="container-fluid">
        <a class="navbar-brand text-white" href="#">ì„¼ì„œ ëŒ€ì‹œë³´ë“œ</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <form class="d-flex ms-auto w-25">
                <select class="form-select w-100" id="deviceOnOff" onchange="checkAddOption()">
                    <option value="" selected disabled>ğŸŒ± ì‹ë¬¼ ì„ íƒ</option> 
                    <option value="add-option">â• ì˜µì…˜ ì¶”ê°€</option> 
                </select>
            </form>

            <!-- ì˜µì…˜ ì¶”ê°€ ëª¨ë‹¬ -->
            <div class="modal fade" id="addOptionModal" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">ìƒˆ ì˜µì…˜ ì¶”ê°€</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <input type="text" id="newOptionText" class="form-control mb-2" placeholder="ì‹ë¬¼ ì´ë¦„">
                            <input type="text" id="newOptionValue" class="form-control" placeholder="ì‹ë¬¼ ID">
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ì·¨ì†Œ</button>
                            <button type="button" class="btn btn-primary" onclick="addDropdownOption()">ì¶”ê°€</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav>

<!-- ë©”ì¸ ë ˆì´ì•„ì›ƒ -->
<div class="container-fluid">
    <div class="row">
        <!-- ì„¼ì„œ ê°’ + ì ì • ê°’ ë°•ìŠ¤ (ì™¼ìª½) -->
        <div class="col-md-6 sensor-container">
            <div class="sensor-box">
                <div class="text-left-top">í† ì–‘ìˆ˜ë¶„</div>
                <div id="landMoisture">0%</div>
            </div>
            <div class="sensor-box">
                <div class="text-left-top">ì ì •í† ì–‘ìˆ˜ë¶„</div>
                <div id="landMoistureAppropriate" th:text="${landMoistureAppropriate}">0%</div>
            </div>
            <div class="sensor-box">
                <div class = "text-left-top">ê¸°ì˜¨</div>
                <div id="temperature">0Â°C</div>
            </div>
            <div class="sensor-box">
                <div class="text-left-top">ì ì •ê¸°ì˜¨</div>
                <div id="temperatureAppropriate" th:text="${temperatureAppropriate}">0Â°C</div>
            </div>
            <div class="sensor-box">
                <div class="text-left-top">ì¡°ë„</div>
                <div id="light">0lx</div>
            </div>
            <div class="sensor-box">
                <div class="text-left-top">ì ì •ì¡°ë„</div>
                <div id="lightAppropriate" th:text="${lightAppropriate}">0lx</div>
            </div>
        </div>

        <!-- ì˜¤ë¥¸ìª½ í° ë°•ìŠ¤ -->
        <div class="col-md-6">
            <div class="big-box">
                <div class="text-left-top">ë¬¼íŒí”„</div>
                <button id="pumpBtn" class="toggle-btn off" onclick="toggleDevice('pump')">OFF</button>
                <button id="pumpModeBtn" class="toggle-btn mode" onclick="toggleMode('pump')">ìˆ˜ë™</button>
            </div>
            <div class="big-box">
                <div class="text-left-top">íŒ¬</div>
                <button id="fanBtn" class="toggle-btn off" onclick="toggleDevice('fan')">OFF</button>
                <button id="fanModeBtn" class="toggle-btn mode" onclick="toggleMode('fan')">ìˆ˜ë™</button>
            </div>
            <div class="big-box">
                <div class="text-left-top">LED</div>
                <button id="LEDBtn" class="toggle-btn off" onclick="toggleDevice('LED')">OFF</button>
                <button id="LEDModeBtn" class="toggle-btn mode" onclick="toggleMode('LED')">ìˆ˜ë™</button>
            </div>
        </div>
    </div>
</div>
<script src="/js/sensor.js"></script>
</body>
</html>
